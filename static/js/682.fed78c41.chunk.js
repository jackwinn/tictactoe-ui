"use strict";(self.webpackChunktictactoe_ui=self.webpackChunktictactoe_ui||[]).push([[682],{682:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(43),r=s(180),i=s(58),n=s(771),c=s(579);const o=()=>{const[e,a]=(0,t.useState)({email:"jack@gmail.com",password:"1234"}),[s,o]=(0,t.useState)(""),l=(0,r.Zp)(),m=s=>{a({...e,[s.target.name]:s.target.value})};return(0,c.jsx)("div",{className:"login-container",children:(0,c.jsxs)("form",{className:"login-form",onSubmit:async a=>{a.preventDefault();try{const{accessToken:a}=await i.A.login(e);if(a){localStorage.setItem("accessToken",a);const e=await n.A.me(a);localStorage.setItem("user",JSON.stringify(e)),l("/ticTacToe")}}catch(s){o("Login failed. Check credentials.")}},children:[(0,c.jsx)("h2",{className:"login-title",children:"Login"}),(0,c.jsx)("label",{htmlFor:"email",children:"Email"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,required:!0}),(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,required:!0}),(0,c.jsx)("button",{type:"submit",children:"Login"}),s&&(0,c.jsx)("p",{className:"error-message",children:s}),(0,c.jsxs)("p",{className:"register-link",children:["Don't have an account? ",(0,c.jsx)(r.N_,{to:"/registration",children:"Register here"})]})]})})}},771:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(536);const r=async e=>{try{return(await t.A.get("/users/me",{headers:{Authorization:`Bearer ${e}`}})).data}catch(a){throw a}},i=async e=>{const a={email:e.email,password:e.password,username:e.username};try{return(await t.A.post("/users/register",a)).data}catch(s){throw s}},n={me:async e=>await r(e),register:async e=>await i(e)}}}]);
//# sourceMappingURL=682.fed78c41.chunk.js.map